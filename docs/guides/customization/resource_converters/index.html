<!doctype html>
<html lang="en">

<head>

    <title>LedgerSync - Resource Converters - LedgerSync</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="An open-source library for easily syncing with accounting software, general ledgers, ERPs, and other ledgers." />
    <link href="https://fonts.googleapis.com/css?family=Lato:400,400i,700,700i%26display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/main.css">

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-152343827-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-152343827-1');
    </script>

</head>

<body>

    <div id="page" class="site">
  <header id="masthead" class="site-header outer">
  <div class="inner">
    <div class="site-header-inside">
      <div class="site-branding">
        
        
        <p class="site-logo"><a href="/"><img src="/images/logo.svg" alt="LedgerSync" /></a></p>
        
      </div><!-- .site-branding -->
      
      
      <nav id="main-navigation" class="site-navigation" aria-label="Main Navigation">
        <div class="site-nav-inside">
          <button id="menu-close" class="menu-toggle"><span class="screen-reader-text">Open Menu</span><span class="icon-close" aria-hidden="true"></span></button>
          <ul class="menu">
            
            <li class="menu-item">
              
              
<a class="" href="/" >
  
  Home
  
</a>
              
            </li>
            
            <li class="menu-item">
              
              
<a class="" href="/guides/" >
  
  Guides
  
</a>
              
            </li>
            
            <li class="menu-item has-children">
              
              
<a class="" href="/reference" >
  
  Reference
  
</a>
              
                
                <ul class="submenu">
  
  <li class="menu-item">
    
    
<a class="" href="/reference/netsuite" >
  
  NetSuite REST
  
</a>
  </li>
  
  <li class="menu-item">
    
    
<a class="" href="/reference/netsuite_soap" >
  
  NetSuite SOAP
  
</a>
  </li>
  
  <li class="menu-item">
    
    
<a class="" href="/reference/quickbooks_online" >
  
  QuickBooks Online
  
</a>
  </li>
  
  <li class="menu-item">
    
    
<a class="" href="/reference/stripe" >
  
  Stripe
  
</a>
  </li>
  
</ul>

              
            </li>
            
            <li class="menu-item">
              
              
<a class="" href="/blog" >
  
  Blog
  
</a>
              
            </li>
            
            <li class="menu-item">
              
              
<a class="" href="/guides/contribute" >
  
  Contribute
  
</a>
              
            </li>
            
            <li class="menu-item menu-button">
              
              
<a class="button" href="https://github.com/LedgerSync/ledger_sync" >
  
  GitHub
  
</a>
              
            </li>
            
          </ul>
        </div><!-- .site-nav-inside -->
      </nav><!-- .site-navigation -->
      <button id="menu-open" class="menu-toggle"><span class="screen-reader-text">Close Menu</span><span class="icon-menu" aria-hidden="true"></span></button>
      
    </div><!-- .site-header-inside -->
  </div><!-- .inner -->
</header><!-- .site-header -->

  <main id="content" class="site-content">
    <div class="inner outer">
    <div class="guides-content">

        <nav id="guides-nav" class="guides-nav">
    <div id="guides-nav-inside" class="guides-nav-inside sticky">
        <button id="guides-nav-toggle" class="guides-nav-toggle">Navigate<span class="icon-angle-right" aria-hidden="true"></span></button>
        <div class="guides-toc-wrap">
            <ul id="guides-toc" class="guides-toc">
                   
                <li class="toc-item">
                    <a href="/guides/">Welcome to LedgerSync</a>
                </li>

                        
                <li class="toc-item has-children">
                    <a href="/guides/getting-started/">Getting Started</a>  
                    <button class="submenu-toggle"><span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span></button> <ul class="toc-submenu">

  <li class="toc-item">
    <a href="/guides/getting-started/installation/">Installation</a>
  </li>

  <li class="toc-item">
    <a href="/guides/getting-started/quick-start/">Quick Start</a>
  </li>

  <li class="toc-item">
    <a href="/guides/getting-started/get-help/">Get Help</a>
  </li>

</ul>
 
                </li>
                        
                <li class="toc-item has-children">
                    <a href="/guides/architecture/">Architecture</a>  
                    <button class="submenu-toggle"><span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span></button> <ul class="toc-submenu">

  <li class="toc-item">
    <a href="/guides/architecture/clients/">Clients</a>
  </li>

  <li class="toc-item">
    <a href="/guides/architecture/resources/">Resources</a>
  </li>

  <li class="toc-item">
    <a href="/guides/architecture/serialization/">Serialization</a>
  </li>

  <li class="toc-item">
    <a href="/guides/architecture/operations/">Operations</a>
  </li>

  <li class="toc-item">
    <a href="/guides/architecture/searchers/">Operations</a>
  </li>

  <li class="toc-item">
    <a href="/guides/architecture/results/">Results</a>
  </li>

</ul>
 
                </li>
                        
                <li class="toc-item has-children">
                    <a href="/guides/ledgers/">Ledgers</a>  
                    <button class="submenu-toggle"><span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span></button> <ul class="toc-submenu">

  <li class="toc-item">
    <a href="/guides/ledgers/netsuite/">NetSuite REST</a>
  </li>

  <li class="toc-item">
    <a href="/guides/ledgers/netsuite_soap/">NetSuite SOAP</a>
  </li>

  <li class="toc-item">
    <a href="/guides/ledgers/quickbooks_online/">QuickBooks Online</a>
  </li>

  <li class="toc-item">
    <a href="/guides/ledgers/stripe/">Stripe</a>
  </li>

</ul>
 
                </li>
                        
                <li class="toc-item has-children active">
                    <a href="/guides/customization/">Customization</a>  
                    <button class="submenu-toggle"><span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span></button> <ul class="toc-submenu">

  <li class="toc-item current">
    <a href="/guides/customization/resource_converters/">Resource Converters</a>
  </li>

  <li class="toc-item">
    <a href="/guides/customization/custom_resources/">Custom Resources</a>
  </li>

  <li class="toc-item">
    <a href="/guides/customization/custom_serializers/">Custom Serializers</a>
  </li>

</ul>
 
                </li>
                        
                <li class="toc-item">
                    <a href="/guides/tips_and_more/">Tips and More</a>  
                </li>
                        
                <li class="toc-item has-children">
                    <a href="/guides/contribute/">Contribute</a>  
                    <button class="submenu-toggle"><span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span></button> <ul class="toc-submenu">

  <li class="toc-item">
    <a href="/guides/contribute/console/">Console</a>
  </li>

  <li class="toc-item">
    <a href="/guides/contribute/deployment/">Deployment</a>
  </li>

  <li class="toc-item">
    <a href="/guides/contribute/documentation/">Documentation</a>
  </li>

  <li class="toc-item">
    <a href="/guides/contribute/qa/">QA</a>
  </li>

  <li class="toc-item">
    <a href="/guides/contribute/testing/">Testing</a>
  </li>

</ul>
 
                </li>
                        
                <li class="toc-item">
                    <a href="/guides/community/">Where To Get Support</a>  
                </li>
                        
                <li class="toc-item">
                    <a href="/guides/modern-treasury/">Modern Treasury</a>  
                </li>
                

            </ul>
            <!-- .guides-toc -->
        </div>
        <!-- .guides-toc-wrap -->
    </div>
    <!-- .guides-nav-inside -->
</nav>
<!-- .guides-nav -->
        <article class="post type-guides">
            <div class="post-inside">
                <header class="post-header">
                    <h1 class="post-title line-left">Resource Converters</h1>
                </header>
                <!-- .post-header -->
                <div class="post-content">
                    <h2 id="overview">Overview</h2>

<p>LedgerSync provides ledger-specific resources and operations for you to easily interface with a ledger.  Complexity arises for a few reasons, such as the following:</p>

<ul>
  <li>Ledgers have different resources.  Some ledgers may not even implement the same resources as another ledger.</li>
  <li>Resources for a given ledger have different attributes from their counterparts in other ledgers.</li>
  <li>Operations may not be supported in all ledgers (e.g. deletion is not available for some resources in QuickBooks Online)</li>
  <li>etc.</li>
</ul>

<p>Because of this complexity, LedgerSync tries to remain “unopinionated” about ledgers.  The goal is to have resources, attributes, and operations that match as closely to the API as possible.  The issue here is that it requires a developer to have ledger-specific knowledge for every interaction with LedgerSync or to define new resource, operation, and validation layers entirely.</p>

<p>To solve this problem, some engineers at <a href="site.modern_treasury_url">Modern Treasury</a> have created what we call a <code class="highlighter-rouge">ResourceConverter</code>.  This object takes in a <code class="highlighter-rouge">source</code> and <code class="highlighter-rouge">destination</code>.  It also defines the mapping from source to destination.  This makes it easy to take any object and map it to a ledger-specific resource.  Having a converter per resource per ledger enables you to create an interface with LedgerSync.  After this layer is created, future developers are not required to have ledger-specific knowledge to make updates.</p>

<p>Let’s see how this works.</p>

<h2 id="scenario">Scenario</h2>

<p>Let’s assume that we have a <code class="highlighter-rouge">Customer</code> model object that we use internally that looks like the following:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Customer</span>
  <span class="nb">attr_accessor</span> <span class="ss">:name</span>
  <span class="nb">attr_accessor</span> <span class="ss">:email</span>
  <span class="nb">attr_accessor</span> <span class="ss">:id</span>
<span class="k">end</span>
</code></pre></div></div>

<p>We want to sync the data on this object (specifically <code class="highlighter-rouge">name</code>, <code class="highlighter-rouge">email</code>, and <code class="highlighter-rouge">id</code>) to QuickBooks Online and NetSuite.  We will also assume that we have already handled authentication and have a valid client for each(<code class="highlighter-rouge">quickbooks_online_client</code> and <code class="highlighter-rouge">netsuite_client</code>, respectively).  Both ledgers implement their own <code class="highlighter-rouge">Customer</code> object, but the attributes for these objects vary.  For example, here are the relevant snippets of these resources:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">module</span> <span class="nn">LedgerSync</span>
  <span class="k">module</span> <span class="nn">Ledgers</span>
    <span class="k">module</span> <span class="nn">QuickBooksOnline</span>
      <span class="k">class</span> <span class="nc">Customer</span> <span class="o">&lt;</span> <span class="no">QuickBooksOnline</span><span class="o">::</span><span class="no">Resource</span>
        <span class="n">attribute</span> <span class="ss">:DisplayName</span><span class="p">,</span> <span class="ss">type: </span><span class="no">LedgerSync</span><span class="o">::</span><span class="no">Type</span><span class="o">::</span><span class="no">String</span>

        <span class="n">references_one</span> <span class="ss">:PrimaryEmailAddr</span><span class="p">,</span> <span class="ss">to: </span><span class="no">PrimaryEmailAddr</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">module</span> <span class="nn">LedgerSync</span>
  <span class="k">module</span> <span class="nn">Ledgers</span>
    <span class="k">module</span> <span class="nn">QuickBooksOnline</span>
      <span class="k">class</span> <span class="nc">PrimaryEmailAddr</span> <span class="o">&lt;</span> <span class="no">QuickBooksOnline</span><span class="o">::</span><span class="no">Resource</span>
        <span class="n">attribute</span> <span class="ss">:Address</span><span class="p">,</span> <span class="ss">type: </span><span class="no">LedgerSync</span><span class="o">::</span><span class="no">Type</span><span class="o">::</span><span class="no">String</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">module</span> <span class="nn">LedgerSync</span>
  <span class="k">module</span> <span class="nn">Ledgers</span>
    <span class="k">module</span> <span class="nn">NetSuite</span>
      <span class="k">class</span> <span class="nc">Customer</span> <span class="o">&lt;</span> <span class="no">NetSuite</span><span class="o">::</span><span class="no">Resource</span>
        <span class="n">attribute</span> <span class="ss">:email</span><span class="p">,</span> <span class="ss">type: </span><span class="no">LedgerSync</span><span class="o">::</span><span class="no">Type</span><span class="o">::</span><span class="no">String</span>
        <span class="n">attribute</span> <span class="ss">:companyName</span><span class="p">,</span> <span class="ss">type: </span><span class="no">LedgerSync</span><span class="o">::</span><span class="no">Type</span><span class="o">::</span><span class="no">String</span>
        <span class="n">attribute</span> <span class="ss">:firstName</span><span class="p">,</span> <span class="ss">type: </span><span class="no">LedgerSync</span><span class="o">::</span><span class="no">Type</span><span class="o">::</span><span class="no">String</span>
        <span class="n">attribute</span> <span class="ss">:lastName</span><span class="p">,</span> <span class="ss">type: </span><span class="no">LedgerSync</span><span class="o">::</span><span class="no">Type</span><span class="o">::</span><span class="no">String</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<div class="note"><strong>Note:</strong>
<p>
  We will ignore for the purposes of this guide that NetSuite requires a `subsidiary` for their `Customer` resource.
</p>
</div>
         
                    <hr />

                    <div>Related articles:</div><br />

                    <ul class="guides-section-items">
                        
                        <li class="guides-section-item"><a href="/guides/customization/resource_converters/" class="guides-item-link">Resource Converters<span class="icon-angle-right" aria-hidden="true"></span></a></li>
                        
                        <li class="guides-section-item"><a href="/guides/customization/custom_resources/" class="guides-item-link">Custom Resources<span class="icon-angle-right" aria-hidden="true"></span></a></li>
                        
                        <li class="guides-section-item"><a href="/guides/customization/custom_serializers/" class="guides-item-link">Custom Serializers<span class="icon-angle-right" aria-hidden="true"></span></a></li>
                        
                    </ul>
                    <!-- .guides-section-pages -->
                     
                </div>
                <!-- .post-content -->
            </div>
            <!-- .post-inside -->
        </article>
        <!-- .post -->
        <nav id="page-nav" class="page-nav">
            <div id="page-nav-inside" class="page-nav-inside sticky">
                <h2 class="page-nav-title">Jump to Section</h2>
            </div>
            <!-- .page-nav-inside -->
        </nav>
        <!-- .page-nav -->
    </div>
    <!-- .guides-content -->
</div>
<!-- .inner-->
  </main><!-- .site-content -->
  <footer id="colophon" class="site-footer outer">
    <div class="inner">
        <div class="site-footer-inside">
            <p class="site-info">
                 
                <span class="copyright">&copy; Modern Treasury Inc. All rights reserved.</span>   
<a class="" href="https://www.moderntreasury.com"  target="_blank" rel="noopener" >
  
  Maintained with ❤️ in San Francisco, CA by Modern Treasury
  
</a> 
            </p>
            <!-- .site-info -->
             
            <div class="social-links">
                 
<a class="" href="https://www.netlify.com"  target="_blank" rel="noopener" >
  
    <img src="https://www.netlify.com/img/global/badges/netlify-dark.svg" alt="Deploys by Netlify" />
  
</a>  
<a class="button button-icon" href="https://twitter.com/ModernTreasury"  target="_blank" rel="noopener" >
  
  <span class="icon fab fa-twitter" aria-hidden="true"></span><span class="screen-reader-text">Twitter</span>
  
</a>  
<a class="button button-icon" href="https://www.linkedin.com/company/modern-treasury"  target="_blank" rel="noopener" >
  
  <span class="icon fab fa-linkedin" aria-hidden="true"></span><span class="screen-reader-text">LinkedIn</span>
  
</a>  
<a class="button button-icon" href="https://github.com/LedgerSync/ledger_sync"  target="_blank" rel="noopener" >
  
  <span class="icon fab fa-github" aria-hidden="true"></span><span class="screen-reader-text">GitHub</span>
  
</a> 
            </div>
            <!-- .social-links -->
            
        </div>
        <!-- .site-footer-inside -->
    </div>
    <!-- .inner -->
</footer>
<!-- .site-footer -->
</div><!-- .site -->

    <!-- Scripts -->
    <script src="/assets/js/plugins.js"></script>
    <script src="/assets/js/prism.js" data-manual></script>
    <script src="/assets/js/main.js"></script>
</body>

</html>