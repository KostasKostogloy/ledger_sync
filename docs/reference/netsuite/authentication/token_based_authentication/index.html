<!doctype html>
<html lang="en">

<head>

    <title>LedgerSync - Token Based Authentication - LedgerSync</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="An open-source library for easily syncing with accounting software, general ledgers, ERPs, and other ledgers." />
    <link href="https://fonts.googleapis.com/css?family=Lato:400,400i,700,700i%26display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/main.css">

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-152343827-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-152343827-1');
    </script>

</head>

<body>

    <div id="page" class="site">
  <header id="masthead" class="site-header outer">
  <div class="inner">
    <div class="site-header-inside">
      <div class="site-branding">
        
        
        <p class="site-logo"><a href="/"><img src="/images/logo.svg" alt="LedgerSync" /></a></p>
        
      </div><!-- .site-branding -->
      
      
      <nav id="main-navigation" class="site-navigation" aria-label="Main Navigation">
        <div class="site-nav-inside">
          <button id="menu-close" class="menu-toggle"><span class="screen-reader-text">Open Menu</span><span class="icon-close" aria-hidden="true"></span></button>
          <ul class="menu">
            
            <li class="menu-item">
              
              
<a class="" href="/" >
  
  Home
  
</a>
              
            </li>
            
            <li class="menu-item">
              
              
<a class="" href="/guides/" >
  
  Guides
  
</a>
              
            </li>
            
            <li class="menu-item has-children">
              
              
<a class="" href="/reference" >
  
  Reference
  
</a>
              
                
                <ul class="submenu">
  
  <li class="menu-item">
    
    
<a class="" href="/reference/netsuite" >
  
  NetSuite REST
  
</a>
  </li>
  
  <li class="menu-item">
    
    
<a class="" href="/reference/netsuite_soap" >
  
  NetSuite SOAP
  
</a>
  </li>
  
  <li class="menu-item">
    
    
<a class="" href="/reference/quickbooks_online" >
  
  QuickBooks Online
  
</a>
  </li>
  
  <li class="menu-item">
    
    
<a class="" href="/reference/stripe" >
  
  Stripe
  
</a>
  </li>
  
</ul>

              
            </li>
            
            <li class="menu-item">
              
              
<a class="" href="/blog" >
  
  Blog
  
</a>
              
            </li>
            
            <li class="menu-item">
              
              
<a class="" href="/guides/contribute" >
  
  Contribute
  
</a>
              
            </li>
            
            <li class="menu-item menu-button">
              
              
<a class="button" href="https://github.com/LedgerSync/ledger_sync" >
  
  GitHub
  
</a>
              
            </li>
            
          </ul>
        </div><!-- .site-nav-inside -->
      </nav><!-- .site-navigation -->
      <button id="menu-open" class="menu-toggle"><span class="screen-reader-text">Close Menu</span><span class="icon-menu" aria-hidden="true"></span></button>
      
    </div><!-- .site-header-inside -->
  </div><!-- .inner -->
</header><!-- .site-header -->

  <main id="content" class="site-content">
    <div class="inner outer">
    <div class="guides-content">

         <nav id="guides-nav" class="guides-nav">
    <div id="guides-nav-inside" class="guides-nav-inside sticky">
        <button id="guides-nav-toggle" class="guides-nav-toggle">Navigate<span class="icon-angle-right" aria-hidden="true"></span></button>
        <div class="guides-toc-wrap">
            <ul id="guides-toc" class="guides-toc">
                   
                <li class="toc-item">
                    <a href="/reference/netsuite/">NetSuite</a>
                </li>

                        
                <li class="toc-item has-children active">
                    <a href="/reference/netsuite/authentication/">Authentication</a>  
                    <button class="submenu-toggle"><span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span></button> <ul class="toc-submenu">

  <li class="toc-item current">
    <a href="/reference/netsuite/authentication/token_based_authentication/">Token Based Authentication</a>
  </li>

</ul>
 
                </li>
                        
                <li class="toc-item">
                    <a href=""></a>  
                </li>
                        
                <li class="toc-item has-children">
                    <a href="/reference/netsuite/resources/">Resources</a>  
                    <button class="submenu-toggle"><span class="screen-reader-text">Submenu</span><span class="icon-angle-right" aria-hidden="true"></span></button> <ul class="toc-submenu">

  <li class="toc-item">
    <a href="/reference/netsuite/resources/account/">account</a>
  </li>

  <li class="toc-item">
    <a href="/reference/netsuite/resources/check/">check</a>
  </li>

  <li class="toc-item">
    <a href="/reference/netsuite/resources/check_line_item/">check_line_item</a>
  </li>

  <li class="toc-item">
    <a href="/reference/netsuite/resources/currency/">currency</a>
  </li>

  <li class="toc-item">
    <a href="/reference/netsuite/resources/customer/">customer</a>
  </li>

  <li class="toc-item">
    <a href="/reference/netsuite/resources/customer_deposit/">customer_deposit</a>
  </li>

  <li class="toc-item">
    <a href="/reference/netsuite/resources/department/">department</a>
  </li>

  <li class="toc-item">
    <a href="/reference/netsuite/resources/deposit/">deposit</a>
  </li>

  <li class="toc-item">
    <a href="/reference/netsuite/resources/deposit_line_item/">deposit_line_item</a>
  </li>

  <li class="toc-item">
    <a href="/reference/netsuite/resources/invoice/">invoice</a>
  </li>

  <li class="toc-item">
    <a href="/reference/netsuite/resources/invoice_line_item/">invoice_line_item</a>
  </li>

  <li class="toc-item">
    <a href="/reference/netsuite/resources/item/">item</a>
  </li>

  <li class="toc-item">
    <a href="/reference/netsuite/resources/journal_entry/">journal_entry</a>
  </li>

  <li class="toc-item">
    <a href="/reference/netsuite/resources/journal_entry_line_item/">journal_entry_line_item</a>
  </li>

  <li class="toc-item">
    <a href="/reference/netsuite/resources/ledger_class/">ledger_class</a>
  </li>

  <li class="toc-item">
    <a href="/reference/netsuite/resources/location/">location</a>
  </li>

  <li class="toc-item">
    <a href="/reference/netsuite/resources/resource/">resource</a>
  </li>

  <li class="toc-item">
    <a href="/reference/netsuite/resources/subsidiary/">subsidiary</a>
  </li>

  <li class="toc-item">
    <a href="/reference/netsuite/resources/vendor/">vendor</a>
  </li>

</ul>
 
                </li>
                

            </ul>
            <!-- .guides-toc -->
        </div>
        <!-- .guides-toc-wrap -->
    </div>
    <!-- .guides-nav-inside -->
</nav>
<!-- .guides-nav -->
        <article class="post type-guides">
            <div class="post-inside">
                <header class="post-header">
                    <h1 class="post-title line-left">Token Based Authentication</h1>
                </header>
                <!-- .post-header -->
                <div class="post-content">
                    <h2 id="overview">Overview</h2>

<p>In order to authenticate to NetSuite, you need the following:</p>

<ul>
  <li><code class="highlighter-rouge">account_id</code></li>
  <li><code class="highlighter-rouge">consumer_key</code></li>
  <li><code class="highlighter-rouge">consumer_secret</code></li>
  <li><code class="highlighter-rouge">token_id</code></li>
  <li><code class="highlighter-rouge">token_secret</code></li>
</ul>

<p>We will walk through how to get each value in the following sections.</p>

<div class="note"><strong>Note:</strong>
You need to have sufficient permissions to set up your account for API authentication.
</div>

<h2 id="prerequisites">Prerequisites</h2>

<h3 id="rest-web-services-feature">REST Web Services feature</h3>

<p>Enable the feature at Setup &gt; Company &gt; Setup Tasks &gt; Enable Features, in the SuiteTalk (Web Services) section, on the SuiteCloud subtab. To use the feature, you must accept the SuiteCloud Terms of Service.</p>

<h3 id="suiteanalytics-workbook-feature">SuiteAnalytics Workbook feature</h3>

<p>Enable the feature at Setup &gt; Company &gt; Setup Tasks &gt; Enable Features, on the Analytics subtab.</p>

<h3 id="permissions">Permissions</h3>

<p>You will require the following permissions:</p>

<ul>
  <li>REST Web Services</li>
  <li>Log in using Access Tokens</li>
  <li>SuiteAnalytics Workbook</li>
</ul>

<p>Your permissions vary based on which role you are assigned.  You can edit roles in Setup &gt; Users/Roles &gt; User Management &gt; Manage Roles.  Ensure your user is assigned a role with the aforementioned permissions in order to complete the setup.</p>

<div class="note"><strong>Note:</strong>
<p>
  There are two different sets of permissions you will need:
</p>
<p>
  <ul>
    <li>The permissions mentioned above are to <strong>set up</strong> your integration.</li>
    <li>Later when creating a token, you will need to assign a user with a role that has the necessary permissions to <strong>access records</strong> (e.g. payments, invoices, bills, etc.)</li>
  </ul>
</p>

<p>
These can be the same or different roles.  They can be assigned to one or many users.
</p>
</div>

<h2 id="account-id">Account ID</h2>

<p>The <code class="highlighter-rouge">account_id</code> can be found in the URL when you are logged into the NetSuite dashboard in your browser.  It will look
something like the following:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://&lt;account_id&gt;.app.netsuite.com/app/center/card.nl?sc=-29&amp;whence=
</code></pre></div></div>

<p>Example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://123456.app.netsuite.com/app/center/card.nl?sc=-29&amp;whence=
</code></pre></div></div>

<p>The Account ID precedes <code class="highlighter-rouge">.app.netsuite.com</code>, which in this case is <code class="highlighter-rouge">123456</code>.  Note that your ID may include <code class="highlighter-rouge">-sb1</code>
(representing “Sandbox 1”).  Be sure to include the entire ID as it appears in the URL, including any letters, numbers,
and hyphens.</p>

<h2 id="consumer-keys">Consumer Keys</h2>

<p>The consumer keys are retrieved when you <a href="https://system.netsuite.com/app/help/helpcenter.nl?fid=bridgehead_4249032125.html&amp;whence=">create an Integration record</a>.  You can view <a href="https://system.netsuite.com/app/help/helpcenter.nl?fid=bridgehead_4249032125.html&amp;whence=">the NetSuite documentation</a> for the official documentation.</p>

<p>At the last step of creating an Integration record, save the consumer key and consumer secret.  They will not be shown again once you navigate away from the page.</p>

<h2 id="token">Token</h2>

<p>To obtain your <code class="highlighter-rouge">token_key</code> and <code class="highlighter-rouge">token_secret</code>, you will need to <a href="https://system.netsuite.com/app/help/helpcenter.nl?fid=bridgehead_4254081947.html">create a Token</a>.  View <a href="https://system.netsuite.com/app/help/helpcenter.nl?fid=bridgehead_4254081947.html">the NetSuite documentation</a> for the official documentation.</p>

<p>You will use the integration record you created along with your user (or the user who has the necessary permissions to access records).</p>

<p>At the last step, save the token key and token secret.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Now with these values, you can successfully authenticate to NetSuite.  Simply pass the values into the client:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="code"><pre><span class="n">client</span> <span class="o">=</span> <span class="no">LedgerSync</span><span class="o">::</span><span class="no">Ledgers</span><span class="o">::</span><span class="no">QuickBooksOnline</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span>
  <span class="ss">account_id: </span><span class="n">account_id</span><span class="p">,</span>
  <span class="ss">consumer_key: </span><span class="n">consumer_key</span><span class="p">,</span>
  <span class="ss">consumer_secret: </span><span class="n">consumer_secret</span><span class="p">,</span>
  <span class="ss">token_id: </span><span class="n">token_id</span><span class="p">,</span>
  <span class="ss">token_secret: </span><span class="n">token_secret</span>
<span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></figure>

         
                    <hr />

                    <div>Related articles:</div><br />

                    <ul class="guides-section-items">
                        
                        <li class="guides-section-item"><a href="/reference/netsuite/authentication/token_based_authentication/" class="guides-item-link">Token Based Authentication<span class="icon-angle-right" aria-hidden="true"></span></a></li>
                        
                    </ul>
                    <!-- .guides-section-pages -->
                     
                </div>
                <!-- .post-content -->
            </div>
            <!-- .post-inside -->
        </article>
        <!-- .post -->
        <nav id="page-nav" class="page-nav">
            <div id="page-nav-inside" class="page-nav-inside sticky">
                <h2 class="page-nav-title">Jump to Section</h2>
            </div>
            <!-- .page-nav-inside -->
        </nav>
        <!-- .page-nav -->
    </div>
    <!-- .guides-content -->
</div>
<!-- .inner-->
  </main><!-- .site-content -->
  <footer id="colophon" class="site-footer outer">
    <div class="inner">
        <div class="site-footer-inside">
            <p class="site-info">
                 
                <span class="copyright">&copy; Modern Treasury Inc. All rights reserved.</span>   
<a class="" href="https://www.moderntreasury.com"  target="_blank" rel="noopener" >
  
  Maintained with ❤️ in San Francisco, CA by Modern Treasury
  
</a> 
            </p>
            <!-- .site-info -->
             
            <div class="social-links">
                 
<a class="" href="https://www.netlify.com"  target="_blank" rel="noopener" >
  
    <img src="https://www.netlify.com/img/global/badges/netlify-dark.svg" alt="Deploys by Netlify" />
  
</a>  
<a class="button button-icon" href="https://twitter.com/ModernTreasury"  target="_blank" rel="noopener" >
  
  <span class="icon fab fa-twitter" aria-hidden="true"></span><span class="screen-reader-text">Twitter</span>
  
</a>  
<a class="button button-icon" href="https://www.linkedin.com/company/modern-treasury"  target="_blank" rel="noopener" >
  
  <span class="icon fab fa-linkedin" aria-hidden="true"></span><span class="screen-reader-text">LinkedIn</span>
  
</a>  
<a class="button button-icon" href="https://github.com/LedgerSync/ledger_sync"  target="_blank" rel="noopener" >
  
  <span class="icon fab fa-github" aria-hidden="true"></span><span class="screen-reader-text">GitHub</span>
  
</a> 
            </div>
            <!-- .social-links -->
            
        </div>
        <!-- .site-footer-inside -->
    </div>
    <!-- .inner -->
</footer>
<!-- .site-footer -->
</div><!-- .site -->

    <!-- Scripts -->
    <script src="/assets/js/plugins.js"></script>
    <script src="/assets/js/prism.js" data-manual></script>
    <script src="/assets/js/main.js"></script>
</body>

</html>